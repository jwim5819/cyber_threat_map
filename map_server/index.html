<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Live Cyber Threat Map</title>

    <!-- 핵심 스크립트 -->
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="http://cdn.leafletjs.com/leaflet-0.7/leaflet.js"></script>
    <script src="https://api.mapbox.com/mapbox.js/v2.3.0/mapbox.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.8.0/proj4.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4leaflet/1.0.2/proj4leaflet.min.js"></script>

    <!-- 폰트 추가 - Pretendard -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/pretendard/1.3.6/static/pretendard.css"
    />

    <!-- 핵심 CSS -->
    <link
      href="https://api.mapbox.com/mapbox.js/v2.3.0/mapbox.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/static/index.css" />
  </head>

  <body>
    <div class="container">
      <!-- 제목 컨테이너 (고정 위치) -->
      <div class="title-container">
        <h1 class="title">LIVE CYBER THREAT MAP</h1>
        <p class="subtitle">ATTACKS ON THIS DAY</p>
      </div>

      <!-- 메인 콘텐츠 래퍼 -->
      <div class="content-wrapper">
        <!-- 메인 지도 컨테이너 (전체 영역 차지) -->
        <div class="map-container-wrapper" id="map-container-wrapper">
          <!-- -->
          <div class="map-container" id="map-container">
            <div id="map"></div>
          </div>

          <!-- 사이드바 (지도 위에 오버레이) -->
          <div class="sidebar">
            <!-- 공격 국가 TOP5 테이블 -->
            <div class="sidebar-table-container">
              <h3 class="sidebar-table-title">공격 국가 TOP5</h3>
              <table class="sidebar-table">
                <thead>
                  <tr>
                    <th>국가</th>
                    <th>공격추이</th>
                    <th>건수</th>
                  </tr>
                </thead>
                <tbody id="country-attack-log">
                  <!-- 데이터는 JS에서 동적으로 추가될 예정 -->
                </tbody>
              </table>
            </div>

            <!-- 공격 유형 TOP5 테이블 -->
            <div class="sidebar-table-container">
              <h3 class="sidebar-table-title">공격 유형 TOP5</h3>
              <table class="sidebar-table">
                <thead>
                  <tr>
                    <th>공격유형</th>
                    <th>공격추이</th>
                    <th>건수</th>
                  </tr>
                </thead>
                <tbody id="attack-type-log">
                  <!-- 데이터는 JS에서 동적으로 추가될 예정 -->
                </tbody>
              </table>
            </div>
          </div>
          <!-- 공격유형 아이콘 컨테이너 -->
          <div class="attack-type-container" id="attack-type-container">
            <!-- 여기에 애니메이션 원들이 추가됩니다 -->
            <div class="attack-type">
              <svg id="svg1"></svg>
              <div class="attack-type-label">Malware</div>
            </div>
            <div class="attack-type">
              <svg id="svg2"></svg>
              <div class="attack-type-label">Phishing</div>
            </div>
            <div class="attack-type">
              <svg id="svg3"></svg>
              <div class="attack-type-label">Exploit</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- map.js로 환경변수 전달 -->
    <script>
      const ENV = {
        HOST: "{{HOST}}",
        PORT: "{{PORT}}",
      };
    </script>
    <script src="/static/map.js"></script>
  </body>
</html>